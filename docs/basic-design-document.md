<div style="text-align: center;">
基本設計仕様書
</div>


<div style="page-break-before:always"></div>

# 目次
1. 概要及び目的
2. システムアーキテクチャ
3. 機能要件
4. 非機能要件
5. データモデル
6. ユーザーインターフェース設計
7. プロトコルとインターフェース

<div style="page-break-before:always"></div>

# 1. 概要及び目的
## 1.1. ソリューションの目的
本ソリューションは、定年後の人々が生活の質（QOL）を維持しながら活動的な生活を送ることのできる社会の実現を目指す。
高齢者のQOLが低下する要因の一つに、外出機会の減少がある。
本ソリューションは、この問題に対処するために、高齢者が外出のきっかけを持てるようにすることを目的とする。

具体的には、このシステムは冷蔵庫内の食材を把握し、足りないものを判断する。
そのうえで、健康によくコスト効率の高いレシピを提案し、それに必要な食材と、それらが手ごろな価格で購入できるスーパーマーケットの場所を表示する。この情報は高齢者がスーパーマーケットへの外出を計画しやすくするためのものである。

また、外出のきっかけを増やす工夫として、毎日一定の時間に冷蔵庫から買い物の指示をする。
その際、提案するレシピの食欲をそそるような画像をディスプレイに表示することで、その時間に外出をする理由ができ、きっかけを増やすことができると期待する。

ターゲットとする高齢者像として、医師から食事制限と運動を勧められているがモチベーションがない高齢者を対象とする。
医師から受けた食事制限や運動を、楽しみながら行う工夫として、「どのくらい歩けば何を食べたのと同じカロリー消費」などの情報を利用する。
提案されたレシピを食べるためにあるスーパーまで歩くとその分のカロリーが消費され、帰ってくると食べることができるということを歩いてスーパーマーケットに行くモチベーションになると期待する。
結果として、高齢者が歩いて外出する機会が増え、積極的な生活がQOLの向上に寄与することを期待する。

## 1.2. 試作品の概要
本システムの試作品は、冷蔵庫の中の食材情報を活用するディスプレイ表示とする。
冷蔵庫内の食材の画像認識はすでにある[（パナソニック "Live Pantry"）](https://panasonic.jp/reizo/function/camera.html)ので優先順位は低く、ここから得られる情報の見せ方に焦点を当てる。

冷蔵庫のディスプレイではおすすめするレシピと必要な食材を表示する。また、特定の時間になったときに外出を促す。

サーバーでは、レシピ用データベースを保持しており、冷蔵庫側からのリクエストに応じて、レシピと必要な食材を送信する。

ディスプレイに表示する情報はレシピ・レシピに使用する食材・足りない食材とする。

試作品では、スマートフォンの歩数計機能を用いて冷蔵庫のディスプレイにどれだけ歩いたのかを表示する。

# 2. システムアーキテクチャ
![システムアーキテクチャ](../img/system_architecture.drawio.png)
# 3. 機能要件
## 3.1. ディスプレイ
- おすすめレシピ画像を表示
- おすすめレシピに使用する食材の表示
- レシピに足りない食材を表示
- カロリーと歩数のバーをリアルタイムで表示
## 3.3. エッジコンピュータ
- ディスプレイ表示の管理
- 冷蔵庫内の食材名称と個数をクラウドサーバーへ送信
## 3.4. クラウドサーバー
- 受け取った情報をデータベースに保存
- DBから選択されたレシピに必要な食材を取得
## 3.5. データベース
- 冷蔵庫内の食材などの情報を保存
- レシピと食材を保存したDB

# 4. 非機能要件
## 4.1. ディスプレイ
- 誰でも迷うことなく操作できるシンプルなデザイン
- 高齢者が視認しやすいよう、文字サイズは大きめ
- 利用環境に応じた輝度やコントラストの変更可能
## 4.2. エッジコンピュータ
- 最低限のディスプレイ表示ができるもの
## 4.4. サーバー
- 情報の送受信と各種処理が可能な最低限のスペック
- 試作ではチーム内の誰かのPCをローカルサーバとして使用する
## 4.5. データベース
- データの整合性の保証
# 5. データモデル
![DataBase](../img/DataModel_DB.png)
![Directory](../img/DataModel_Directory.png)

# 6. ユーザーインターフェース設計
![ユーザーインターフェース設計1](../img/ui_1.png)
![ユーザーインターフェース設計2](../img/ui_2.png)
![ユーザーインターフェース設計3](../img/ui_3.png)

# 7. プロトコルとインターフェース
## 7.1. エッジコンピュータ　－　カメラ
- データ形式：　画像
- プロトコル：　ONVIF
- インターフェース：　USB3.0

## 7.2. サーバー（エッジコンピュータ）　－　ディスプレイ
- データ形式：　映像と音声
- プロトコル：　DRM
- インターフェース：　HDMI

## 7.3. サーバー　－　データベース
- データ形式：　JSON
- プロトコル：　HTTP
- インターフェース：　REST API

## 7.4. サーバー（エッジコンピュータ）　－　Map
- データ形式：　JSON
- プロトコル：　HTTPS
- インターフェース：　REST API
